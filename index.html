<!DOCTYPE html>
<html>
<head>
    <title>My Music App</title>

<style>
body{
    background:#111;
    color:white;
    text-align:center;
    font-family:Arial;
}

#cover{
    width:220px;
    height:220px;
    border-radius:15px;
    margin-top:20px;
    object-fit:cover;
    box-shadow:0 0 20px #000;
}

.song{
    background:#222;
    padding:12px;
    margin:10px auto;
    width:260px;
    border-radius:10px;
    cursor:pointer;
}

.song:hover{
    background:#444;
}

.active{
    background:#1db954;
    color:black;
    font-weight:bold;
}
</style>
</head>

<body>

<h1>üéµ My Music App</h1>

<img id="cover" src="cover1.jpg">

<h2 id="title">Select a song</h2>

<audio id="player" controls></audio>
<br><br>

<input type="range" id="progress" value="0" min="0" step="1" style="width:300px">

<div>
<span id="current">0:00</span> /
<span id="duration">0:00</span>
</div>


<button onclick="prevSong()">‚èÆ Prev</button>
<button onclick="nextSong()">‚è≠ Next</button>


<h3>Playlist</h3>

<div class="song" onclick="playSong(0)">Song 1</div>
<div class="song" onclick="playSong(1)">Song 2</div>
<div class="song" onclick="playSong(2)">Song 3</div>

<script>
    let progress = document.getElementById("progress");
let currentTime = document.getElementById("current");
let durationTime = document.getElementById("duration");

// duration set
player.onloadedmetadata = function(){
    progress.max = Math.floor(player.duration);
    durationTime.innerText = formatTime(player.duration);
};

// update progress while playing
player.ontimeupdate = function(){
    progress.value = Math.floor(player.currentTime);
    currentTime.innerText = formatTime(player.currentTime);
};

// seek (drag pannina forward/back)
progress.oninput = function(){
    player.currentTime = progress.value;
};

// time format function
function formatTime(sec){
    sec = Math.floor(sec);
    let min = Math.floor(sec/60);
    let s = sec%60;
    if(s<10) s="0"+s;
    return min+":"+s;
}

player.onended = function(){
    nextSong();
let songs = [
    {name:"Song 1", file:"song1.mp3", cover:"cover1.jpg"},
    {name:"Song 2", file:"song2.mp3", cover:"cover2.jpg"},
    {name:"Song 3", file:"song3.mp3", cover:"cover3.jpg"}
];
let current = 0;


let player = document.getElementById("player");

 function playSong(index){

    current = index;

    player.src = songs[index].file;
    player.play();

    document.getElementById("title").innerText = songs[index].name;
    document.getElementById("cover").src = songs[index].cover;

    let all = document.querySelectorAll(".song");
    all.forEach(s => s.classList.remove("active"));
    all[index].classList.add("active");
}
  function nextSong(){

    current++;

    if(current >= songs.length)
        current = 0;

    playSong(current);
}
 function prevSong(){

    current--;

    if(current < 0)
        current = songs.length - 1;

    playSong(current);
}

</script>
</body>
</html>
